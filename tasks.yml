# tasks.yml

variables:
  PIPENV_VENV_IN_PROJECT: 1
shell: bash

# Create virtual environment and install dependencies
install:
  script: pipenv install

# Run reportmix inside the virtualenv
mix:
  params:
    - ARGS
  script: pipenv run python reportmix.py $ARGS

# Run unit tests
test:
  script: pipenv run pytest -v

# A basic health check test
healthcheck:
  shell: powershell
  script: ./scripts/Invoke-HealthCheck.ps1
